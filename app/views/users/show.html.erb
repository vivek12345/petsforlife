<%if !@user.nil?%>
<div class="ui page grid" ng-controller="ListingController">
  <div class="four wide column user_show" id="user_show_profile">
    <%if current_user%>
      <%flash.each do |key,value| %>
        <div class="ui <%=key %> message"><%=value %></div>
      <%end%>
    <%end%>
    <div class="ui centered card" id="profile_card">
      <div class="image">
        <%=image_tag 'default.jpg',class:'ui medium image'%>
      </div>
      <div class="content">
        <a class="header"><%=@user.username%></a>
        <div class="meta">
          <span class="date">Joined in <%=@user.created_at.strftime("%B")%><%=@user.created_at.strftime("%Y")%></span>
        </div>
        <div class="description pet_love">
          <p><%=truncate(@user.love_for_pets, length: 200)%></p>
          <%if @user.for_foster?%>
            <button class="ui green basic button foster_button">Ready to Foster</button>
          <%end%>
        </div>
      </div>
      <div class="extra content">
        <a>
          <i class="edit icon"></i>
          <%= pluralize(@listings.count, "listing")%>
        </a>
      </div>
    </div>
  </div>
  <div class="twelve wide column user_show">
    <%if !@listings.empty?%>
      <div class="ui small info message">
        Showing listings of <strong><%=@user.username%></strong>
      </div>
      <%if request.user_agent =~ /Mobile|webOS/%>
        <%=render 'listings/small_cards'%>
      <%else%>
        <%=render 'listings/horizontal_cards'%>
      <%end%>
    <%else%>
      <div class="ui icon blue message">
        <i class="info icon"></i>
        <p>This breeder is yet to post any listings</p>
      </div>
    <%end%>
  </div>
</div>
<%end%>
<script type="text/javascript">
$('document').ready(function(){
  $('.active.tab').attr('data-tab','user_listing');
});
</script>

